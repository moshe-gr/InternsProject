<header>
    <app-profile-header></app-profile-header>
</header>
<div class="row">
    <aside class="col-md-4 col-lg-3 col-xl-2 py-3 text-center">
        <app-user-profile></app-user-profile>
        <h6 class="pt-5 pb-2">
            Your progress
        </h6>
        <app-users-progres></app-users-progres>
    </aside>
    <main class="col-md-6 col-lg-7 col-xl-8 pt-3 ms-5">
        <h3 class="text-center mb-5">
            Tasks done
        </h3>
        <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Name</th>
                  <th scope="col">Modified</th>
                  <th scope="col">Complited</th>
                  <th scope="col">Result</th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let task of done; let i=index">
                  <tr>
                    <th scope="row">{{ i+1 }}</th>
                    <td>{{ task.test.name }}</td>
                    <td>{{ task.test.modified | date:'shortDate' }}</td>
                    <td>{{ task.date | date:'shortDate' }}</td>
                    <td *ngIf="task.result"><span class="rounded-circle border text-center p-2" [ngClass]="{ 'border-success text-success': task.result > 90, 'border-info text-info': task.result < 91 && task.result > 80, 'border-warning text-warning': task.result < 81 && task.result > 70, 'border-danger text-danger': task.result < 71 }">{{ task.result }}</span></td>
                    <td *ngIf="!task.result" class="text-secondary">not marked</td>
                    <td><button class="btn btn-success" (click)="openFile(task)">open</button></td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
        </div>
    </main>
</div>